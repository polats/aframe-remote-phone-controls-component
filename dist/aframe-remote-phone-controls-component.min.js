!function(t){function a(i){if(e[i])return e[i].exports;var n=e[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var e={};return a.m=t,a.c=e,a.p="",a(0)}([function(t,a){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("remote-phone-controls",{dependencies:["raycaster"],schema:{target:{type:"selector"}},multiple:!1,init:function(){this.data.raycast_rotation={x:0,y:0,z:0},this.data.orientation={alpha:0,beta:0,gamma:0,initial_value:null},this.data.raycast_initialized=!1;var t=this.el,a=this.data;if(null===a.target){var e=document.querySelector("a-cursor");if(null===e)return void console.warn("Please put a-cursor in a document");a.target=e}var i=a.orientation;window.addEventListener("deviceorientation",function(t){null==i.initial_value&&(i.initial_value={alpha:t.alpha,beta:t.beta,gamma:t.gamma},a.raycast_initialized=!0),i.alpha=t.alpha,i.beta=t.beta,i.gamma=t.gamma},!0),window.addEventListener("touchstart",function(t){i.initial_value={alpha:i.alpha,beta:i.beta,gamma:i.gamma}},!0),t.addEventListener("raycaster-intersection",function(t){function e(t){for(var e=0,i=t.length;e<i;e++)if(a.target!==t[e].object.el&&!t[e].object.el.classList.contains("ignore-ray"))return t[e];return null}var i=e(t.detail.intersections);if(i){var n=i.object.matrixWorld;n.setPosition(new THREE.Vector3(0,0,0));var r=i.face.normal.clone().applyMatrix4(n).normalize(),o=(new THREE.Vector3).addVectors(i.point,r);a.target.object3D.lookAt(o);var l=(new THREE.Vector3).addVectors(i.point,r.multiplyScalar(.05));a.target.setAttribute("position",l)}})},update:function(t){},remove:function(){},tick:function(t){var a=this.data,e=this.el;if(a.raycast_initialized){var i=e.getAttribute("rotation");i.y=a.orientation.alpha-a.orientation.initial_value.alpha,i.x=a.orientation.beta-a.orientation.initial_value.beta,e.setAttribute("rotation",i),i=e.getAttribute("rotation")}},pause:function(){},play:function(){}})}]);